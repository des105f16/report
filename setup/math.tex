\theoremheaderfont{\normalfont\bfseries}
\theorembodyfont{\normalfont}
\theoremstyle{break}
\def\theoremframecommand{{\color{gray!50}\vrule width 5pt \hspace{5pt}}}
\newshadedtheorem{exa}{Example}[chapter]
\newenvironment{example}[1]{%
		\begin{exa}[#1]
}{%
		\end{exa}
}

\newshadedtheorem{defini}{Definition}[chapter]
\newenvironment{definition}[1]{%
    \begin{defini}[#1]
}{%
    \end{defini}
}

\newcommand{\gp}{\; | \;} % extra margin grammar pipe
\newcommand{\tk}[1]{\, \texttt{#1} \,} % token style
\newcommand{\argpart}[3]{ % IN, ARROW-NAME, OUT
	\langle #1 \rangle \rightarrow_{#2} #3}
\newcommand{\vlbl}[1]{\underline{#1}} % variable label
\newcommand{\clbl}[1]{\overline{#1}} % constant label

\newcommand{\iVar}{\mathbf{Var}}
\newcommand{\iFun}{\mathbf{Fun}}
\newcommand{\iDec}{\mathbf{Dec}}
\newcommand{\iDecv}{\mathbf{DecV}}
\newcommand{\iDecf}{\mathbf{DecF}}
\newcommand{\iDecp}{\mathbf{DecP}}
\newcommand{\iDecpar}{\mathbf{DecPar}}
\newcommand{\iStmc}{\mathbf{StmC}}
\newcommand{\iExp}{\mathbf{Exp}}
\newcommand{\iExpl}{\mathbf{ExpL}}
\newcommand{\iLbl}{\mathbf{Lbl}}
\newcommand{\iPol}{\mathbf{Pol}}
\newcommand{\iEnvL}{\mathbf{EnvL}}
\newcommand{\ienvL}{{env_L}}
\newcommand{\iEnvP}{\mathbf{EnvP}}
\newcommand{\ienvP}{{env_P}}
\newcommand{\iStm}{\mathbf{Stm}}
\newcommand{\iProg}{\mathbf{Prog}}
\newcommand{\iCstr}{\mathbf{Cstr}}
\newcommand{\icstr}{{cstr}}
\newcommand{\iStml}{\mathbf{StmL}}
\newcommand{\iPrin}{\mathbf{Prin}}
\newcommand{\ia}{\alpha} % authority label
\newcommand{\ib}{\beta} % block label
\newcommand{\ifb}{\phi} % function block label
\newcommand{\ipar}{\pi} % argument's corresponding parameter
\newcommand{\literal}[1]{"\,#1\,"}

\newcommand{\truleHelper}[3]{
	\text{[#1]} \hspace{2em}  & {#2} \nonumber \\[1em]
														& \parbox{\textwidth}{#3} \nonumber
}

\newcommand{\ctruleHelper}[4]{
	\text{[#1]} \hspace{2em}  & \frac{#3}{#2} \nonumber \\[1em]
														& \parbox{\textwidth}{#4} \nonumber
}

\newcommand{\trule}[3]{% NAME, CONCLUSION, PREMISES, SIDE CONDITIONS
\begin{align}
  \truleHelper{#1}{#2}{#3}
\end{align}}

\newcommand{\ctrule}[4]{
\begin{align}
  \ctruleHelper{#1}{#2}{#3}{#4}
\end{align}}

\newenvironment{trules}{%
  \allowdisplaybreaks
	\renewcommand{\trule}[3]{\truleHelper{##1}{##2}{##3} \\[1em] \nonumber}
	\renewcommand{\ctrule}[4]{\ctruleHelper{##1}{##2}{##3}{##4} \\[1em] \nonumber}
  \align%
}{%
  \endalign%
}

\DeclareMathOperator*{\sqcupl}{\mathlarger{\mathlarger\sqcup}}
